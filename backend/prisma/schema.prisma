generator client {
  provider     = "prisma-client"
  output       = "../generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

enum ReservationStatus {
  Active
  Expired
  Completed
}

model Product {
  id Int @id @default(autoincrement())

  name            String
  price           Float
  available_stock Int

  reservations Reservation[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Reservation {
  id Int @id @default(autoincrement())

  product_id Int
  status     ReservationStatus @default(Active)
  quantity   Int

  product Product @relation(fields: [product_id], references: [id])

  createdAt DateTime @default(now())
  expiredAt DateTime
}
